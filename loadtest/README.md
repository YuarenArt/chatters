# üìñ –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–∞ (Locust + WebSocket)

## üöÄ –û–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **[Locust](https://locust.io/)** –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —á–∞—Ç-—Å–µ—Ä–≤–µ—Ä, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø–æ HTTP –∏ WebSocket.  
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞ –ø—Ä–∏ –º–∞–ª–æ–º —á–∏—Å–ª–µ –∫–ª–∏–µ–Ω—Ç–æ–≤,
- –≤—ã—Å–æ–∫–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è (–º–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å —Ä–µ–¥–∫–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏),
- —Å–º–µ—à–∞–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ (–∫–æ–º–±–∏–Ω–∞—Ü–∏—è HTTP –∏ WS –æ–ø–µ—Ä–∞—Ü–∏–π).

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–∞ –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `test_config.json`, –≥–¥–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ö–æ—Å—Ç –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã API.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞
- `loadtest/loadtest.py` ‚Äî —Å—Ü–µ–Ω–∞—Ä–∏–∏ Locust.
- `loadtest/test_config.json` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–æ–≤ (—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã API, —Å–æ–æ–±—â–µ–Ω–∏—è, –¥–∞–Ω–Ω—ã–µ).
- `Makefile` ‚Äî —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞.

---

## üìä –°—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–∏

### 1. `HighMessageUser`
**–¶–µ–ª—å:** –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å —á–∞—Ç–∞ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (`0.1‚Äì0.5 c`).
- –û—Ç–ø—Ä–∞–≤–∫–∞ **10‚Äì20 —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–¥—Ä—è–¥** –≤ –æ–¥–Ω–æ–º —Ç–∞—Å–∫–µ.
- 80% –∑–∞–¥–∞—á ‚Äî —á–∞—Ç, 20% ‚Äî —Å–ª—É–∂–µ–±–Ω—ã–µ (`health_check`, `get_room_info`).  
  üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ **—Å–∫–æ—Ä–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ WS —Å–µ—Ä–≤–µ—Ä**.

---

### 2. `HighConcurrencyUser`
**–¶–µ–ª—å:** –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–æ–º —á–∏—Å–ª–µ –∫–ª–∏–µ–Ω—Ç–æ–≤, –Ω–æ –Ω–∏–∑–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
- –î–æ–ª–≥–∏–µ –ø–∞—É–∑—ã –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏ (`5‚Äì10 c`).
- 5% ‚Äî —Ä–µ–¥–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
- 20% ‚Äî WebSocket ping.
- 30% ‚Äî –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (churn).
- 45% ‚Äî HTTP-–æ–ø–µ—Ä–∞—Ü–∏–∏ (`health_check`, `get_room_info`, `validate_password`).  
  üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ **—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ–ª—å—à–∏–º –ø—É–ª–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π** –∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏/–≤–∞–ª–∏–¥–∞—Ü–∏–∏.

---

### 3. `MixedLoadUser`
**–¶–µ–ª—å:** —Å–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Å–º–µ—Å—å –¥–µ–π—Å—Ç–≤–∏–π.
- –£–º–µ—Ä–µ–Ω–Ω—ã–µ –ø–∞—É–∑—ã (`2‚Äì4 c`).
- 50% ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è.
- 20% ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è.
- 15% ‚Äî —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è.
- 15% ‚Äî –∑–∞–ø—Ä–æ—Å—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–Ω–∞—Ç–µ –∏ health-check.  
  üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–±–∞–ª–∞–Ω—Å–Ω–æ–≥–æ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∞**, –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω–æ–≥–æ –∫ —Ä–µ–∞–ª—å–Ω—ã–º —Å—Ü–µ–Ω–∞—Ä–∏—è–º.

